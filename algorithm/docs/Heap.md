# Heap

- 완전 이진 트리의 일종, 우선순위 큐
- 여러 개의 값 중 최대, 최소 값을 빠르게 찾도록 만들어진 자료구조
- 반정렬 상태
  - 부모 노드의 값이 자식 노드의 값보다 항상 크거나 작은 이진트리
- 중복된 값이 허용 됨

## 종류
### 최대
- 부모 노드 키 값이 자식 키 노드 보다 크거나 같음
- 부모 노드 key >= 자식 노드 key

### 최소
- 부모 노드의 키 값이 자식 노드의 키 값보다 작거나 같음
- 부모 노드 key <= 자식 노드 key

### 부모 노드, 자식 노드 관계
- 왼쪽 자식 인덱스 = 부모 인덱스 * 2
- 오른쪽 자식 인덱스 = 부모 인덱스 * 2 + 1
- 부모 인덱스 = 자식 인덱스 / 2

### 삽입
- 새로운 요소가 들어오면, 마지막에 삽입
- 부모 노드와 비교하며 교환

### 삭제
- 루트 삭제
- 마지막 노드 값을 루트에 넣음
- 자식 노드와 비교하여, 교환

### SJF(Shortest Job First)
- 평균 대기 시간을 최소화하기 위해 CPU 점유 시간이 가장 짧은 프로세스에 CPU를 먼저 할당하는 방식의 CPU 스케줄링 알고리즘
````
PID	도착 시간	총 실행 시간
P1	0초	   8초
P2	1초	   4초
P3	2초	   9초
P4	3초	   5초
````
- 가장 처음에. P1이 도착하여 실행된다. 실행중인 프로세스 표시
  - Queue =. [P1]
- P1의 실행중에. P2, P3, P4가 차례대로 도착한다. 실행시간이 짧은 순으로 Queue에 삽입된다. SJF는 비선점 스케줄링이기 때문에 현재 진행중인 프로세스가 끝나기 전까지 프로세스를 전환하지 않는다.
  - Queue = [P1, P2, P4, P3] 
- P1이 끝나면 가장 실행시간이 짧은 P2를 실행한다.
  - Queue = [P2, P4, P3]
- P2가 끝나면 P4를 실행한다.
 - Queue = [P4, P3]
- P4가 끝나면 P3를 실행한다.
 - Queue = [P3]
- P3가 끝나고 모든 프로세스가 종료되었다.
 - Queue = []

- 요청 시간을 기준으로 오름차순 정렬
- 현재 시간 이하의 요청 시간을 가지는 작업을 Heap(요청 시간 기준 최소 힙)에 넣는다.
- 현재 시간에 Job 작업 시간을 더한다.